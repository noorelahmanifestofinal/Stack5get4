# Save full mini dApp HTML (updated version) as downloadable file
from pathlib import Path

full_dapp_html = """<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NWR5 Staking dApp</title>
  <script src="https://cdn.jsdelivr.net/npm/web3@1.10.0/dist/web3.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@walletconnect/web3-provider@1.7.8/dist/umd/index.min.js"></script>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #f8f8f8; transition: background 0.3s, color 0.3s; }
    body.dark { background: #121212; color: #f0f0f0; }
    body.rtl { direction: rtl; text-align: right; }
    input, button, select { margin: 5px; padding: 10px; font-size: 16px; }
    #logs { margin-top: 20px; background: #eee; padding: 10px; white-space: pre-wrap; }
    body.dark #logs { background: #222; color: #ccc; }
    table { border-collapse: collapse; margin-top: 10px; width: 100%; }
    th, td { border: 1px solid #ccc; padding: 8px; }
    body.dark th, body.dark td { border: 1px solid #555; }
    @media (max-width: 600px) {
      input, button, select { width: 100%; margin-bottom: 10px; }
    }
  </style>
</head>
<body>
  <h1 data-lang="heading">NWR5 Staking Interface</h1>
  <select onchange="setLanguage(this.value)">
    <option value="en">English</option>
    <option value="es">Español</option>
    <option value="fr">Français</option>
    <option value="zh">中文</option>
    <option value="de">Deutsch</option>
    <option value="pt">Português</option>
    <option value="hi">हिंदी</option>
    <option value="ar">العربية</option>
    <option value="ja">日本語</option>
    <option value="ko">한국어</option>
    <option value="ru">Русский</option>
    <option value="it">Italiano</option>
  </select>
  <button onclick="toggleDarkMode()">Toggle Dark Mode</button>
  <button onclick="connectWallet()" data-tooltip="connect">Connect Wallet</button>
  <p data-lang="connected">Connected: <span id="wallet"></span></p>
  <hr />
  <h3 data-lang="stake">Stake NWR5</h3>
  <input id="stakeAmount" type="text" placeholder="Amount (18 decimals)" data-tooltip="amount" />
  <button onclick="approveStake()" data-tooltip="approve">1. Approve</button>
  <button onclick="stake()" data-tooltip="stake">2. Stake</button>
  <h3 data-lang="withdraw">Withdraw</h3>
  <button onclick="withdraw()" data-tooltip="withdraw">Withdraw</button>
  <h3 data-lang="status">Status</h3>
  <button onclick="checkStatus()" data-tooltip="status">Check My Stake</button>
  <div id="countdown"></div>
  <div id="logs"></div>
  <h3 data-lang="tiers">Tiers</h3>
  <button onclick="viewTiers()" data-tooltip="view">View Tier Table</button>
  <div id="tierTable"></div>
  <br />
  <a href="translations.csv" download>Download Translation Template (CSV)</a>
  <script>
    const savedLang = localStorage.getItem('preferredLang');
    if (savedLang) document.documentElement.lang = savedLang;
    function saveLang(lang) { localStorage.setItem('preferredLang', lang); }

    // You can plug in full logic from previous modules here (connectWallet, approveStake, etc.)
  </script>
</body>
</html>
"""

# Save to file
mini_dapp_path = Path("/mnt/data/nwr5_mini_dapp.html")
mini_dapp_path.write_text(full_dapp_html)

mini_dapp_path
